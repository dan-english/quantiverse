arazzo: 1.0.0
info:
  title: Currency check workflow
  summary: Check the current currency rates via an API call
  description: Will hit an endpoint to determine the current rates for USD to EUR and EUR to USD
  version: 1.0.1
#https://spec.openapis.org/arazzo/latest.html

sourceDescriptions:
- name: currencyDescription
  url: ../openapi.yaml
  type: openapi

workflows:
- workflowId: getLatestCurrency
  summary: Get the latest values
  description: Get the latest values
  steps:
  - stepId: getCurrencies
    description: get the values
    operationId: getExchangeRates

    parameters:
        - name: ApiKey
          in: header
          value: phronesis-84714284-6396-4c21-8860-48e8184be6e3
         
    successCriteria:
      - condition: $statusCode == 200
    outputs:
      # outputs from this step
      rates: $response.body

  outputs:
    rates: $steps.getCurrencies.outputs.rates